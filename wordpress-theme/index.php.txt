<?php
/**
 * Main Index Template
 * 
 * @package Ecosolartec
 */

get_header();
?>

<div class="container" style="padding: 120px 20px 80px;">
    <?php if (have_posts()): ?>
        <div class="posts-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px;">
            <?php while (have_posts()): the_post(); ?>
                <article class="service-card">
                    <?php if (has_post_thumbnail()): ?>
                        <img src="<?php echo esc_url(get_the_post_thumbnail_url(get_the_ID(), 'service-card')); ?>" alt="<?php the_title_attribute(); ?>">
                    <?php endif; ?>
                    <div class="service-card-content">
                        <h2 style="font-size: 1.25rem; margin-bottom: 12px;">
                            <a href="<?php the_permalink(); ?>" style="color: inherit; text-decoration: none;">
                                <?php the_title(); ?>
                            </a>
                        </h2>
                        <p style="color: hsl(var(--muted-foreground)); font-size: 0.875rem;">
                            <?php echo wp_trim_words(get_the_excerpt(), 20); ?>
                        </p>
                        <a href="<?php the_permalink(); ?>" class="btn-primary" style="margin-top: 16px; padding: 12px 20px; font-size: 0.875rem;">
                            Leia mais
                        </a>
                    </div>
                </article>
            <?php endwhile; ?>
        </div>
        
        <div style="margin-top: 40px; text-align: center;">
            <?php the_posts_pagination(array(
                'mid_size'  => 2,
                'prev_text' => '← Anterior',
                'next_text' => 'Próximo →',
            )); ?>
        </div>
    <?php else: ?>
        <div style="text-align: center; padding: 80px 20px;">
            <h2>Nenhum conteúdo encontrado</h2>
            <p style="color: hsl(var(--muted-foreground));">Não há posts publicados ainda.</p>
            <a href="<?php echo esc_url(ecosolartec_get_whatsapp_url()); ?>" class="btn-primary" style="margin-top: 24px;" target="_blank" rel="noopener noreferrer">
                <?php echo ecosolartec_whatsapp_icon(24); ?>
                <span>SOLICITAR ORÇAMENTO AGORA</span>
            </a>
        </div>
    <?php endif; ?>
</div>

<?php get_footer(); ?>
